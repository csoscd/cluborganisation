<?xml version="1.0" encoding="utf-8"?>
<form>
    <fieldset name="details">
        <field
            name="id"
            type="hidden"
            default="0"
        />

        <field
            name="membership_id"
            type="sql"
            label="COM_CLUBORGANISATION_FIELD_MEMBERSHIP"
            description=""
            required="true"
            query="SELECT m.id, CONCAT(p.lastname, ', ', p.firstname, ' (', p.member_no, ') - ', t.title, ' (', DATE_FORMAT(m.begin, '%d.%m.%Y'), IFNULL(CONCAT(' - ', DATE_FORMAT(m.end, '%d.%m.%Y')), ' - laufend'), ')') AS name FROM #__cluborganisation_memberships m LEFT JOIN #__cluborganisation_persons p ON m.person_id = p.id LEFT JOIN #__cluborganisation_membershiptypes t ON m.type = t.id WHERE m.end IS NULL OR m.end >= CURDATE() ORDER BY p.lastname, p.firstname"
            key_field="id"
            value_field="name"
        >
            <option value="">COM_CLUBORGANISATION_SELECT_MEMBERSHIP</option>
        </field>

        <field
            name="accountname"
            type="text"
            label="COM_CLUBORGANISATION_FIELD_ACCOUNTNAME"
            description="COM_CLUBORGANISATION_FIELD_ACCOUNTNAME_DESC"
            required="true"
            maxlength="255"
            class="form-control"
        />

        <field
            name="iban"
            type="text"
            label="COM_CLUBORGANISATION_FIELD_IBAN"
            description="COM_CLUBORGANISATION_FIELD_IBAN_DESC"
            required="true"
            maxlength="50"
            class="form-control"
        />

        <field
            name="bic"
            type="text"
            label="COM_CLUBORGANISATION_FIELD_BIC"
            description="COM_CLUBORGANISATION_FIELD_BIC_DESC"
            required="false"
            maxlength="50"
            class="form-control"
        />

        <field
            name="begin"
            type="calendar"
            label="COM_CLUBORGANISATION_FIELD_BEGIN"
            description="COM_CLUBORGANISATION_FIELD_BEGIN_DESC"
            required="true"
            format="%Y-%m-%d"
            filter="date"
            class="form-control"
        />
    </fieldset>

    <fieldset name="publishing">
        <field
            name="created"
            type="calendar"
            label="COM_CLUBORGANISATION_FIELD_CREATED"
            description=""
            filter="user_utc"
            format="%Y-%m-%d %H:%M:%S"
            readonly="true"
        />

        <field
            name="created_by"
            type="user"
            label="COM_CLUBORGANISATION_FIELD_CREATED_BY"
            description=""
            readonly="true"
        />

        <field
            name="modified"
            type="calendar"
            label="COM_CLUBORGANISATION_FIELD_MODIFIED"
            description=""
            filter="user_utc"
            format="%Y-%m-%d %H:%M:%S"
            readonly="true"
        />

        <field
            name="modified_by"
            type="user"
            label="COM_CLUBORGANISATION_FIELD_MODIFIED_BY"
            description=""
            readonly="true"
        />
    </fieldset>
</form>
